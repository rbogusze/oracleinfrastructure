= Upgrading to AD 6 =

Patch 19197270:R12.AD.C.Delta.6
Patch 19330775:R12.TXK.C.Delta.6

https://blogs.oracle.com/stevenChan/entry/12_2_ad_txk_delta

MOS:
* Oracle E-Business Suite Applications DBA and Technology Stack Release Notes for R12.AD.C.Delta.6 and R12.TXK.C.Delta.6 (Note 1983782.1)
* Applying the Latest AD and TXK Release Update Packs to Oracle E-Business Suite Release 12.2 (Note 1617461.1)

Following Applying the Latest AD and TXK Release Update Packs to Oracle E-Business Suite Release 12.2 (Note 1617461.1)

== Section 1: Preparation ==
Download and unzip all the patches to the default patch location

R12.AD.C.DELTA.6 PATCH (Patchset)
p19197270_R12.AD.C_R12_LINUX.zip	3.3 MB	MD5	C9DFAAB46549BD3A017AAC5B2D55345E

R12.TXK.C.DELTA.6 (Patchset)
p19330775_R12.TXK.C_R12_GENERIC.zip	57.8 MB	MD5	45519AE7E5668CA93B173CA14CDECBE8

{{{
$ cd /STAGING/ebs12patches
$ md5sum p19197270_R12.AD.C_R12_LINUX.zip p19330775_R12.TXK.C_R12_GENERIC.zip
c9dfaab46549bd3a017aac5b2d55345e  p19197270_R12.AD.C_R12_LINUX.zip
45519ae7e5668ca93b173ca14cdecbe8  p19330775_R12.TXK.C_R12_GENERIC.zip
}}}

{{{
$ unzip -o p19197270_R12.AD.C_R12_LINUX.zip
$ unzip -o p19330775_R12.TXK.C_R12_GENERIC.zip
}}}

== Section 2: Apply Required Database Patches ==
List of missing bug fixes:
#608907

According to the doc: Database Patch Set Update Overlay Patches Required for Use with PSUs and Oracle E-Business Suite (Doc ID 1147107.1)

"If the EBS Technology Codelevel Checker  reports missing fixes then contact Oracle Support. You may disregard the  error if it reports Patch 17608907 as missing as long as Patch 18893947  has been applied."

== Section 3: Apply the R12.AD.C.Delta.6 and R12.TXK.C.Delta.6 Release Update Packs ==
Going with: Already using Oracle E-Business Suite Release 12.2 (below AD-TXK Delta 6 codelevel)	Path B

=== 1. Source the run edition environment file. ===
{{{
$ . /u01/oracle/VIS/EBSapps.env run
}}}

=== 2. Start new online patching cycle. ===
{{{
$ adop phase=prepare
}}}

=== 3. Apply the latest embedded application tier technology patches on the patch file system. ===

From a separate session, source the patch edition environment file.
{{{
$ . /u01/oracle/VIS/EBSapps.env patch
}}}

On the patch file system, apply the latest application tier technology patches documented in 'Section 3: Application Tier Technology Patches and Bug Numbers' of My Oracle Support Knowledge Document 1594274.1, Oracle E-Business Suite Release 12.2: Consolidated List of Patches and Technology Bug Fixes.

Note: The latest AD-TXK codelevel has a dependency on Oracle Fusion Middleware Patch 19462638.

*> We recently performed the upgrade to 12.2.4 and all the patches are installed, together with patch 19462638.

Source the run edition environment file.
{{{
$ . /u01/oracle/VIS/EBSapps.env run
}}}

=== 4. Unzip patches and run adgrants. ===
Download and unzip the following patches:
{{{
$ cd /STAGING/ebs12patches
-> done already
}}}

Execute adgrants by following the instructions in the readme of Patch 19197270:R12.AD.C.Delta.6.
{{{
$ cd /STAGING/ebs12patches/19197270/admin
}}}

Copy that to db node
{{{
$ scp adgrants.sql oracle@ebsdb4:/u01/oracle/VIS/11204/appsutil/admin
}}}

On DB node run adgrants
{{{
> @?/appsutil/admin/adgrants.sql apps
}}}

=== 5. Apply Patch 19197270:R12.AD.C.Delta.6 ===
{{{
$ adop phase=apply patches=19197270 patchtop=/STAGING/ebs12patches
}}}

[WARNING]   The following required database bug fixes <16299727,19393542>
are missing from this node, <ebsdb4>.

{{{
$ opatch lsinventory | grep 16299727
16299727, 17781991
$ opatch lsinventory | grep 19393542
Patch  19393542     : applied on Tue Mar 31 15:39:31 CEST 2015
19393542
}}}

*> one mentioned missing patch is part of some other, another is installed
Log file: /u01/oracle/VIS/fs_ne/EBSapps/log/adop/28/adop_20150331_170841.log
adop exiting with status = 0 (Success)


=== 6. Apply Patch 19330775:R12.TXK.C.Delta.6 ===
{{{
$ adop phase=apply patches=19330775 patchtop=/STAGING/ebs12patches
}}}



=== 7. Apply Patch 19259764:R12.FND.C. ===
select BUG_ID, BUG_NUMBER, LAST_UPDATE_DATE from APPLSYS.AD_BUGS where BUG_NUMBER = '19259764'

BUG_ID BUG_NUMBER			  LAST_UPDATE_DATE
*--------- ------------------------------ ------------------
937486 19259764			  12-JAN-15

*> this patch has already been applied

=== 8. Complete the online patching cycle by running the following commands in the order shown. ===

{{{
$ adop phase=finalize
$ adop phase=cutover
Relogin
$ . /u01/oracle/VIS/EBSapps.env run
$ adop phase=cleanup
[UNEXPECTED]Error occurred while performing database validations
}}}

MOS:
* Error Occurred Performing Database Validations Applying Patch 19330775 (Doc ID 1993838.1)

{{{
> select name from v$parameter where name='_system_trig_enabled';
no rows selected
}}}

{{{
> alter system set "_system_trig_enabled"=true scope=both;
}}}

{{{
$ adop phase=cleanup
adop phase=cleanup - Completed Successfully
}}}

=== 9. Synchronize file systems ===
{{{
$ adop phase=fs_clone
}}}

Done with: Applying the Latest AD and TXK Release Update Packs to Oracle E-Business Suite Release 12.2 (Note 1617461.1)





== Applying a patch when AD.6 is in place ==

I just picked a random patch to install, just to see how adop behives now.

Patch 17189881: FND_STATS.RESTORE_SCHEMA_STATS FOR ALL SCHEMA IS FAILED

FND_STATS.RESTORE_SCHEMA_STATS FOR ALL SCHEMA IS FAILED (Patch)
p17189881_R12.FND.C_R12_GENERIC.zip	55.1 KB	MD5	622860627D6C1503CA9AA841EE37A470

{{{
$ adop phase=prepare
[WARNING]   ETCC: The following database fixes are not applied in node ebsdb4
17608907
adop phase=prepare - Completed Successfully
}}}

{{{
$ md5sum p17189881_R12.FND.C_R12_GENERIC.zip
622860627d6c1503ca9aa841ee37a470  p17189881_R12.FND.C_R12_GENERIC.zip
$ unzip -o p17189881_R12.FND.C_R12_GENERIC.zip
$ adop phase=apply patches=17189881 patchtop=/STAGING/ebs12patches
[WARNING]   ETCC: The following database fixes are not applied in node ebsdb4
17608907
adop phase=apply - Completed Successfully
}}}

{{{
$ adop phase=cutover
[WARNING]   ETCC: The following database fixes are not applied in node ebsdb4
17608907
adop phase=cutover - Completed Successfully
}}}


OK, done. We are able to patch even thou one patch is reported as missing by ETCC.


= Upgrading to AD 6 =

Patch 19197270:R12.AD.C.Delta.6
Patch 19330775:R12.TXK.C.Delta.6

https://blogs.oracle.com/stevenChan/entry/12_2_ad_txk_delta

MOS:
* Oracle E-Business Suite Applications DBA and Technology Stack Release Notes for R12.AD.C.Delta.6 and R12.TXK.C.Delta.6 (Note 1983782.1)
* Applying the Latest AD and TXK Release Update Packs to Oracle E-Business Suite Release 12.2 (Note 1617461.1)

Following Applying the Latest AD and TXK Release Update Packs to Oracle E-Business Suite Release 12.2 (Note 1617461.1)

== Section 1: Preparation ==
Download and unzip all the patches to the default patch location

R12.AD.C.DELTA.6 PATCH (Patchset)
p19197270_R12.AD.C_R12_LINUX.zip	3.3 MB	MD5	C9DFAAB46549BD3A017AAC5B2D55345E

R12.TXK.C.DELTA.6 (Patchset)
p19330775_R12.TXK.C_R12_GENERIC.zip	57.8 MB	MD5	45519AE7E5668CA93B173CA14CDECBE8

{{{
$ cd /STAGING/ebs12patches
$ md5sum p19197270_R12.AD.C_R12_LINUX.zip p19330775_R12.TXK.C_R12_GENERIC.zip
c9dfaab46549bd3a017aac5b2d55345e  p19197270_R12.AD.C_R12_LINUX.zip
45519ae7e5668ca93b173ca14cdecbe8  p19330775_R12.TXK.C_R12_GENERIC.zip
}}}

{{{
$ unzip -o p19197270_R12.AD.C_R12_LINUX.zip
$ unzip -o p19330775_R12.TXK.C_R12_GENERIC.zip
}}}

== Section 2: Apply Required Database Patches ==
List of missing bug fixes:
#608907

According to the doc: Database Patch Set Update Overlay Patches Required for Use with PSUs and Oracle E-Business Suite (Doc ID 1147107.1)

"If the EBS Technology Codelevel Checker  reports missing fixes then contact Oracle Support. You may disregard the  error if it reports Patch 17608907 as missing as long as Patch 18893947  has been applied."

== Section 3: Apply the R12.AD.C.Delta.6 and R12.TXK.C.Delta.6 Release Update Packs ==
Going with: Already using Oracle E-Business Suite Release 12.2 (below AD-TXK Delta 6 codelevel)	Path B

=== 1. Source the run edition environment file. ===
{{{
$ . /u01/oracle/VIS/EBSapps.env run
}}}

=== 2. Start new online patching cycle. ===
{{{
$ adop phase=prepare
}}}

=== 3. Apply the latest embedded application tier technology patches on the patch file system. ===

From a separate session, source the patch edition environment file.
{{{
$ . /u01/oracle/VIS/EBSapps.env patch
}}}

On the patch file system, apply the latest application tier technology patches documented in 'Section 3: Application Tier Technology Patches and Bug Numbers' of My Oracle Support Knowledge Document 1594274.1, Oracle E-Business Suite Release 12.2: Consolidated List of Patches and Technology Bug Fixes.

Note: The latest AD-TXK codelevel has a dependency on Oracle Fusion Middleware Patch 19462638.

*> We recently performed the upgrade to 12.2.4 and all the patches are installed, together with patch 19462638.

Source the run edition environment file.
{{{
$ . /u01/oracle/VIS/EBSapps.env run
}}}

=== 4. Unzip patches and run adgrants. ===
Download and unzip the following patches:
{{{
$ cd /STAGING/ebs12patches
-> done already
}}}

Execute adgrants by following the instructions in the readme of Patch 19197270:R12.AD.C.Delta.6.
{{{
$ cd /STAGING/ebs12patches/19197270/admin
}}}

Copy that to db node
{{{
$ scp adgrants.sql oracle@ebsdb4:/u01/oracle/VIS/11204/appsutil/admin
}}}

On DB node run adgrants
{{{
> @?/appsutil/admin/adgrants.sql apps
}}}

=== 5. Apply Patch 19197270:R12.AD.C.Delta.6 ===
{{{
$ adop phase=apply patches=19197270 patchtop=/STAGING/ebs12patches
}}}

[WARNING]   The following required database bug fixes <16299727,19393542>
are missing from this node, <ebsdb4>.

{{{
$ opatch lsinventory | grep 16299727
16299727, 17781991
$ opatch lsinventory | grep 19393542
Patch  19393542     : applied on Tue Mar 31 15:39:31 CEST 2015
19393542
}}}

*> one mentioned missing patch is part of some other, another is installed
Log file: /u01/oracle/VIS/fs_ne/EBSapps/log/adop/28/adop_20150331_170841.log
adop exiting with status = 0 (Success)


=== 6. Apply Patch 19330775:R12.TXK.C.Delta.6 ===
{{{
$ adop phase=apply patches=19330775 patchtop=/STAGING/ebs12patches
}}}



=== 7. Apply Patch 19259764:R12.FND.C. ===
select BUG_ID, BUG_NUMBER, LAST_UPDATE_DATE from APPLSYS.AD_BUGS where BUG_NUMBER = '19259764'

BUG_ID BUG_NUMBER			  LAST_UPDATE_DATE
*--------- ------------------------------ ------------------
937486 19259764			  12-JAN-15

*> this patch has already been applied

=== 8. Complete the online patching cycle by running the following commands in the order shown. ===

{{{
$ adop phase=finalize
$ adop phase=cutover
Relogin
$ . /u01/oracle/VIS/EBSapps.env run
$ adop phase=cleanup
[UNEXPECTED]Error occurred while performing database validations
}}}

MOS:
* Error Occurred Performing Database Validations Applying Patch 19330775 (Doc ID 1993838.1)

{{{
> select name from v$parameter where name='_system_trig_enabled';
no rows selected
}}}

{{{
> alter system set "_system_trig_enabled"=true scope=both;
}}}

{{{
$ adop phase=cleanup
adop phase=cleanup - Completed Successfully
}}}

=== 9. Synchronize file systems ===
{{{
$ adop phase=fs_clone
}}}

Done with: Applying the Latest AD and TXK Release Update Packs to Oracle E-Business Suite Release 12.2 (Note 1617461.1)





== Applying a patch when AD.6 is in place ==

I just picked a random patch to install, just to see how adop behives now.

Patch 17189881: FND_STATS.RESTORE_SCHEMA_STATS FOR ALL SCHEMA IS FAILED

FND_STATS.RESTORE_SCHEMA_STATS FOR ALL SCHEMA IS FAILED (Patch)
p17189881_R12.FND.C_R12_GENERIC.zip	55.1 KB	MD5	622860627D6C1503CA9AA841EE37A470

{{{
$ adop phase=prepare
[WARNING]   ETCC: The following database fixes are not applied in node ebsdb4
17608907
adop phase=prepare - Completed Successfully
}}}

{{{
$ md5sum p17189881_R12.FND.C_R12_GENERIC.zip
622860627d6c1503ca9aa841ee37a470  p17189881_R12.FND.C_R12_GENERIC.zip
$ unzip -o p17189881_R12.FND.C_R12_GENERIC.zip
$ adop phase=apply patches=17189881 patchtop=/STAGING/ebs12patches
[WARNING]   ETCC: The following database fixes are not applied in node ebsdb4
17608907
adop phase=apply - Completed Successfully
}}}

{{{
$ adop phase=cutover
[WARNING]   ETCC: The following database fixes are not applied in node ebsdb4
17608907
adop phase=cutover - Completed Successfully
}}}


OK, done. We are able to patch even thou one patch is reported as missing by ETCC.


Table of contents
<wiki:toc max_depth=8 />
= Upgrading to AD 6 =

Patch 19197270:R12.AD.C.Delta.6
Patch 19330775:R12.TXK.C.Delta.6

https://blogs.oracle.com/stevenChan/entry/12_2_ad_txk_delta

MOS:
* Oracle E-Business Suite Applications DBA and Technology Stack Release Notes for R12.AD.C.Delta.6 and R12.TXK.C.Delta.6 (Note 1983782.1)
* Applying the Latest AD and TXK Release Update Packs to Oracle E-Business Suite Release 12.2 (Note 1617461.1)

Following Applying the Latest AD and TXK Release Update Packs to Oracle E-Business Suite Release 12.2 (Note 1617461.1)

== Section 1: Preparation ==
Download and unzip all the patches to the default patch location

R12.AD.C.DELTA.6 PATCH (Patchset)
p19197270_R12.AD.C_R12_LINUX.zip	3.3 MB	MD5	C9DFAAB46549BD3A017AAC5B2D55345E

R12.TXK.C.DELTA.6 (Patchset)
p19330775_R12.TXK.C_R12_GENERIC.zip	57.8 MB	MD5	45519AE7E5668CA93B173CA14CDECBE8

{{{
$ cd /STAGING/ebs12patches
$ md5sum p19197270_R12.AD.C_R12_LINUX.zip p19330775_R12.TXK.C_R12_GENERIC.zip
c9dfaab46549bd3a017aac5b2d55345e  p19197270_R12.AD.C_R12_LINUX.zip
45519ae7e5668ca93b173ca14cdecbe8  p19330775_R12.TXK.C_R12_GENERIC.zip
}}}

{{{
$ unzip -o p19197270_R12.AD.C_R12_LINUX.zip
$ unzip -o p19330775_R12.TXK.C_R12_GENERIC.zip
}}}

== Section 2: Apply Required Database Patches ==
List of missing bug fixes:
#608907

According to the doc: Database Patch Set Update Overlay Patches Required for Use with PSUs and Oracle E-Business Suite (Doc ID 1147107.1)

"If the EBS Technology Codelevel Checker  reports missing fixes then contact Oracle Support. You may disregard the  error if it reports Patch 17608907 as missing as long as Patch 18893947  has been applied."

== Section 3: Apply the R12.AD.C.Delta.6 and R12.TXK.C.Delta.6 Release Update Packs ==
Going with: Already using Oracle E-Business Suite Release 12.2 (below AD-TXK Delta 6 codelevel)	Path B

=== 1. Source the run edition environment file. ===
{{{
$ . /u01/oracle/VIS/EBSapps.env run
}}}

=== 2. Start new online patching cycle. ===
{{{
$ adop phase=prepare
}}}

=== 3. Apply the latest embedded application tier technology patches on the patch file system. ===

From a separate session, source the patch edition environment file.
{{{
$ . /u01/oracle/VIS/EBSapps.env patch
}}}

On the patch file system, apply the latest application tier technology patches documented in 'Section 3: Application Tier Technology Patches and Bug Numbers' of My Oracle Support Knowledge Document 1594274.1, Oracle E-Business Suite Release 12.2: Consolidated List of Patches and Technology Bug Fixes.

Note: The latest AD-TXK codelevel has a dependency on Oracle Fusion Middleware Patch 19462638.

*> We recently performed the upgrade to 12.2.4 and all the patches are installed, together with patch 19462638.

Source the run edition environment file.
{{{
$ . /u01/oracle/VIS/EBSapps.env run
}}}

=== 4. Unzip patches and run adgrants. ===
Download and unzip the following patches:
{{{
$ cd /STAGING/ebs12patches
-> done already
}}}

Execute adgrants by following the instructions in the readme of Patch 19197270:R12.AD.C.Delta.6.
{{{
$ cd /STAGING/ebs12patches/19197270/admin
}}}

Copy that to db node
{{{
$ scp adgrants.sql oracle@ebsdb4:/u01/oracle/VIS/11204/appsutil/admin
}}}

On DB node run adgrants
{{{
> @?/appsutil/admin/adgrants.sql apps
}}}

=== 5. Apply Patch 19197270:R12.AD.C.Delta.6 ===
{{{
$ adop phase=apply patches=19197270 patchtop=/STAGING/ebs12patches
}}}

[WARNING]   The following required database bug fixes <16299727,19393542>
are missing from this node, <ebsdb4>.

{{{
$ opatch lsinventory | grep 16299727
16299727, 17781991
$ opatch lsinventory | grep 19393542
Patch  19393542     : applied on Tue Mar 31 15:39:31 CEST 2015
19393542
}}}

*> one mentioned missing patch is part of some other, another is installed
Log file: /u01/oracle/VIS/fs_ne/EBSapps/log/adop/28/adop_20150331_170841.log
adop exiting with status = 0 (Success)


=== 6. Apply Patch 19330775:R12.TXK.C.Delta.6 ===
{{{
$ adop phase=apply patches=19330775 patchtop=/STAGING/ebs12patches
}}}



=== 7. Apply Patch 19259764:R12.FND.C. ===
select BUG_ID, BUG_NUMBER, LAST_UPDATE_DATE from APPLSYS.AD_BUGS where BUG_NUMBER = '19259764'

BUG_ID BUG_NUMBER			  LAST_UPDATE_DATE
*--------- ------------------------------ ------------------
937486 19259764			  12-JAN-15

*> this patch has already been applied

=== 8. Complete the online patching cycle by running the following commands in the order shown. ===

{{{
$ adop phase=finalize
$ adop phase=cutover
Relogin
$ . /u01/oracle/VIS/EBSapps.env run
$ adop phase=cleanup
[UNEXPECTED]Error occurred while performing database validations
}}}

MOS:
* Error Occurred Performing Database Validations Applying Patch 19330775 (Doc ID 1993838.1)

{{{
> select name from v$parameter where name='_system_trig_enabled';
no rows selected
}}}

{{{
> alter system set "_system_trig_enabled"=true scope=both;
}}}

{{{
$ adop phase=cleanup
adop phase=cleanup - Completed Successfully
}}}

=== 9. Synchronize file systems ===
{{{
$ adop phase=fs_clone
}}}

Done with: Applying the Latest AD and TXK Release Update Packs to Oracle E-Business Suite Release 12.2 (Note 1617461.1)





== Applying a patch when AD.6 is in place ==

I just picked a random patch to install, just to see how adop behives now.

Patch 17189881: FND_STATS.RESTORE_SCHEMA_STATS FOR ALL SCHEMA IS FAILED

FND_STATS.RESTORE_SCHEMA_STATS FOR ALL SCHEMA IS FAILED (Patch)
p17189881_R12.FND.C_R12_GENERIC.zip	55.1 KB	MD5	622860627D6C1503CA9AA841EE37A470

{{{
$ adop phase=prepare
[WARNING]   ETCC: The following database fixes are not applied in node ebsdb4
17608907
adop phase=prepare - Completed Successfully
}}}

{{{
$ md5sum p17189881_R12.FND.C_R12_GENERIC.zip
622860627d6c1503ca9aa841ee37a470  p17189881_R12.FND.C_R12_GENERIC.zip
$ unzip -o p17189881_R12.FND.C_R12_GENERIC.zip
$ adop phase=apply patches=17189881 patchtop=/STAGING/ebs12patches
[WARNING]   ETCC: The following database fixes are not applied in node ebsdb4
17608907
adop phase=apply - Completed Successfully
}}}

{{{
$ adop phase=cutover
[WARNING]   ETCC: The following database fixes are not applied in node ebsdb4
17608907
adop phase=cutover - Completed Successfully
}}}


OK, done. We are able to patch even thou one patch is reported as missing by ETCC.


